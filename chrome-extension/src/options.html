<!doctype html>
<html>
    <head>
        <title>Bookmark Sender Settings</title>
        <style>
            body {
                padding: 20px;
                max-width: 600px;
                margin: 0 auto;
                font-family: system-ui, sans-serif;
            }
            .container {
                display: flex;
                flex-direction: column;
                gap: 16px;
            }
            .field {
                display: flex;
                flex-direction: column;
                gap: 8px;
            }
            input {
                padding: 8px;
                border: 1px solid #ccc;
                border-radius: 4px;
                font-size: 14px;
            }
            button {
                padding: 8px 16px;
                background: #4285f4;
                color: white;
                border: none;
                border-radius: 4px;
                cursor: pointer;
                font-size: 14px;
                max-width: fit-content;
            }
            button:hover {
                background: #3367d6;
            }
            #status {
                color: #666;
                margin-top: 16px;
            }
            .section {
                border-top: 1px solid #eee;
                padding-top: 16px;
                margin-top: 16px;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <h2>Bookmark Sender Settings</h2>
            <div class="field">
                <label for="tokenInput">API Token:</label>
                <input
                    type="password"
                    id="tokenInput"
                    placeholder="Enter your API token"
                />
            </div>

            <div class="section">
                <h3>Ollama Auto-Tagging Settings</h3>
                <div
                    class="field"
                    style="flex-direction: row; align-items: center; gap: 8px"
                >
                    <input
                        type="checkbox"
                        id="enableAutoTagging"
                        style="width: auto; margin: 0"
                    />
                    <label for="enableAutoTagging"
                        >Enable auto-tagging for Quick Save</label
                    >
                </div>
                <div class="field">
                    <label for="ollamaEndpoint">Ollama Endpoint:</label>
                    <input
                        type="text"
                        id="ollamaEndpoint"
                        placeholder="http://localhost:11434"
                    />
                </div>
                <div class="field">
                    <label for="ollamaModel">Ollama Model:</label>
                    <input
                        type="text"
                        id="ollamaModel"
                        placeholder="gemma:7b"
                    />
                </div>
                <div class="field">
                    <label for="ollamaPrompt">Custom Prompt Template:</label>
                    <textarea
                        id="ollamaPrompt"
                        rows="6"
                        style="
                            resize: vertical;
                            font-family: monospace;
                            font-size: 13px;
                        "
                        placeholder="Generate 3-5 relevant tags for this content. Return only the tags as a JSON array of strings. No additional explanation needed.

Title: {{title}}
Description: {{description}}"
                    ></textarea>
                    <p style="margin-top: 4px; font-size: 12px; color: #666">
                        Use {{title}} and {{description}} as placeholders that
                        will be replaced with the actual content.
                    </p>
                </div>
                <div class="field">
                    <button id="testOllama">Test Ollama Connection</button>
                </div>
                <div class="field">
                    <button id="testPrompt">Test Tag Generation</button>
                    <div
                        id="promptTestResults"
                        style="
                            margin-top: 8px;
                            padding: 10px;
                            background-color: #f7f7f7;
                            border-radius: 4px;
                            display: none;
                        "
                    >
                        <h4 style="margin-top: 0">Generated Tags:</h4>
                        <div id="generatedTags"></div>
                    </div>
                </div>
            </div>

            <button id="saveSettings">Save Settings</button>
            <div id="status"></div>
        </div>
        <script src="options.js"></script>
    </body>
</html>
